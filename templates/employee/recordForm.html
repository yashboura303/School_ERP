{% extends "dashboard/base.html" %}
{% block title %}
Add Employee Info
{% endblock %}
{% block content %}

{% include "message.html" %}
<style type="text/css" media="print">
.no-print {
    display: none;
}
</style>
<style>
    #teacher, #othersss{
        display: none;
    }

    .required::after {
 content: "*";
 color: red;
}

</style>
<style>
    /* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance:textfield;
}
</style>
<form class="container" id="myForm" method="POST" action="{% url 'employeeForm' %}" enctype="multipart/form-data">
    {% csrf_token %}
    <div>
        <h3 class="my-4 text-info ">Employee Details</h3>
        <div class="form-row">
            <div class="form-group col-md-3">
                <label for="username " class="required">First Name:</label>
                <input type="text" class="form-control" id="firstname" name="firstname" required>
            </div>
            <div class="form-group col-md-3">
                <label >Last Name:</label>
                <input type="text" class="form-control" id="lastname" name="lastname">
            </div>
            <div class="form-group col-md-3">
                <label class="required">Employee ID:</label>
                <input type="text" class="form-control" id="empID"  name="empID" onwheel="this.blur()" required>
            </div>
            <div class="form-group col-md-3">
                <label class="pr-1" for="exampleFormControlSelect2">Gender:</label>
                <select name="gender" class="form-control mr-2" id="exampleFormControlSelect2">
                    <option selected="true" value="">Select</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
            </div>
        </div>
        <div class="form-row mt-2">
            <div class="form-group col-md-3">
                <label >DOB:</label>
                <input type="date" class="form-control" id="DOB"  name="DOB">
            </div>
            <div class="form-group col-md-3">
                <label >Email:</label>
                <input type="email" class="form-control" aria-describedby="emailHelp" id="email" name="email">
            </div>
            <div class="form-group col-md-3">
                <label >Joining Date:</label>
                <input type="date" class="form-control" id="joinDate"  name="joinDate">
            </div>
            <div class="form-group col-md-3">
                <label class="required" >Phone Number:</label>
                <input type="text" class="form-control" maxlength="10" pattern="\d{10}" id="phone_number" name="phone_number" min="0" onwheel="this.blur()" required>
            </div>
        </div>
    </div>
    <div class="form-row mt-2">
        <div class="form-group col-md-4">
            <label >Blood Group:</label>
            <input type="text" class="form-control" id="blood_group" name="blood_group">
        </div>
        <div class="form-group col-md-4">
            <label >Maritial Status:</label>
            <input type="text" class="form-control" id="marital_status" name="marital_status">
        </div>
        <div class="form-group col-md-4">
            <label for="caste">Experience:</label>
            <input type="text" class="form-control" id="experience" name="experience">
        </div>
    </div>
    <div class="form-row mt-2">
        <div class="form-group col-md-4">
            <label >Father Name:</label>
            <input type="text" class="form-control" id="father_name" name="father_name">
        </div>
        <div class="form-group col-md-4">
            <label >Mother Name:</label>
            <input type="text" class="form-control" id="mother_name" name="mother_name">
        </div>
        <div class="form-group col-md-4">
            <label for="caste">Wife/Husband Name:</label>
            <input type="text" class="form-control" id="partnerName" name="partnerName">
        </div>
    </div>
    <div class="form-row mt-2">
        <div class="form-group col-md-6"> <label for="inputAddress">Current Address:</label>
            <input type="text" class="form-control" id="inputAddress" name="currentinputAddress" placeholder=""></div>
        <div class="form-group col-md-6">
            <label for="inputAddress2">Current Address 2:</label>
            <input type="text" class="form-control" id="inputAddress2" name="currentinputAddress2" placeholder="">
        </div>
    </div>
    <div class="form-row mt-2 ">
        <div class="form-group col-md-6">
            <label for="inputCity">City:</label>
            <input type="text" class="form-control" id="inputCity" name="inputCity">
        </div>
        <div class="form-group col-md-4">
            <label for="inputState">State:</label>
            <input type="text" class="form-control" id="inputState" name="inputState">
        </div>
        <div class="form-group col-md-2">
            <label for="inputZip">Pin Code:</label>
            <input type="text" class="form-control" id="inputZip" name="inputZip">
        </div>
    </div>
    <div class="custom-control custom-checkbox my-2">
        <input type="checkbox" class="custom-control-input" name="customCheck1" id="customCheck1" onclick="FillAddress(this.form)">
        <label class="custom-control-label font-italic font-weight-lighter" for="customCheck1"> Current Address is same
            as Permanent Address:</label>
    </div>
    <div class="form-row mt-2 ">
        <div class="form-group col-md-6"> <label for="preminputAddress">Permanent Address:</label>
            <input type="text" class="form-control" id="perminputAddress" name="perminputAddress" placeholder=""></div>
        <div class="form-group col-md-6">
            <label for="preminputAddress2">Permanent Address 2:</label>
            <input type="text" class="form-control" id="perminputAddress2" name="perminputAddress2" placeholder="">
        </div>
    </div>
    <div class="form-row mt-2">
        <div class="form-group col-md-6">
            <label for="inputCity">City:</label>
            <input type="text" class="form-control" id="perminputCity" name="perminputCity">
        </div>
        <div class="form-group col-md-4">
            <label for="inputState">State:</label>
            <input type="text" class="form-control" id="perminputState" name="perminputState">
        </div>
        <div class="form-group col-md-2">
            <label for="inputZip">Pin Code:</label>
            <input type="text" class="form-control" id="perminputZip" name="perminputZip">
        </div>
    </div>
    <div class="form-row mt-2">
        <div class="form-group col-md-4">
            <label class="required pr-1" for="exampleFormControlSelect2">Employee Category:</label>
            <select onchange="teacherOption()" name="empCategory" class="form-control mr-2" id="empCategory" required>
                <option selected="true" value="">Select</option>
                <option value="teacher">Teacher</option>
                <option value="driver">Driver</option>
                <option value="peon">Peon</option>
                <option value="receptionist">Receptionist</option>
                <option value="coordinator">Coordinator</option>
                <option value="manager">Manager</option>
                <option value="helper">Helper</option>
                <option value="principal">Principal</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="form-group col-md-4 " id="othersss">
            <label for="other_input">Other:</label>
            <input type="text" class="form-control" id="other_input" name="other">
        </div>
        <div class="form-group col-md-4">
            <label for="a_number">Aadhar Number:</label>
            <input type="number" class="form-control" id="a_number" name="a_number">
        </div>
    </div>
    <!-- </div>
    </div> -->
    <div id="teacher">
        <h3 class="my-4 text-info border-top border-dark pt-4 ">Teacher Details </h3>
        <div class="form-row mt-3 ">
            <div class="form-group col-md-4">
                <label >Designation:</label>
                <input type="text" class="form-control" id="designation" name="designation">
            </div>
            <div class="form-group col-md-4">
                <label >Specialization:</label>
                <input type="text" class="form-control" id="specialization" name="specialization">
            </div>
            <div class="form-group col-md-4">
                <label >Class Teacher:</label>
                <select name="classTeacher" class="form-control mr-2" id="class_name">
                            <option selected="true" disabled="disabled" value="a">Select</option>
                            {% for class_room in class_rooms %}
                            <option value='{{ class_room.classSection }}'>{{ class_room.classSection }}</option>
                            {% endfor %}
                    </select>
                <!-- <input type="text" class="form-control" id="classTeacher" name="classTeacher"> -->
            </div>
        </div>
    </div>
    <h3 class="my-4 text-info border-top border-dark pt-4">Documents</h3>
    <div class="form-row">
        <div class="form-group col-md-4">
            <label for="photgraph">Photograph:</label>
            <input onchange="ValidateSize(this)" type="file" class="form-control-file no-print " id="photgraph" name="photgraph">
        </div>
        <div class="form-group col-md-4">
            <label for="idproof">ID Proof:</label>
            <input onchange="ValidateSize(this)" type="file" class="form-control-file no-print " id="idproof" name="idproof">
        </div>
        <div class="form-group col-md-4">
            <label for="castcert">Qualification Document:</label>
            <input onchange="ValidateSize(this)" type="file" class="form-control-file no-print " id="qualificationDocs" name="qualificationDoc">
        </div>
    </div>
    <div class="form-row mt-2">
        <div class="form-group col-md-4">
            <label for="domicile">Address Proof:</label>
            <input onchange="ValidateSize(this)" type="file" class="form-control-file no-print " id="addressProof" name="addressProof">
        </div>
        <div class="form-group col-md-4">
            <label onchange="ValidateSize(this)" for="tc">Other Documents:</label>
            <input type="file" class="form-control-file" id="otherDoc" name="otherDoc">
        </div>
    </div>
    <div class="row justify-content-around">
        <button type="submit" class="col-4 mt-5  container btn btn-primary">Submit</button>
        <a href="{% url 'empSearchPage' %}" class="col-4 mt-5  container btn btn-primary">Print</a>
    </div>
</form>
<script>
function teacherOption() {
    inputSelect = document.getElementById('empCategory')
    otherDiv = document.getElementById('othersss')
    teacherDiv = document.getElementById('teacher')
    if (inputSelect.value == "other") {
        otherDiv.style.display = "block";
        teacherDiv.style.display = "none";
    }
    else if (inputSelect.value == "teacher") {
        teacherDiv.style.display = "block";
        otherDiv.style.display = "none";
    } 
    else {
        teacherDiv.style.display = "none";
        otherDiv.style.display = "none";
    }

}

function FillAddress(f) {
    console.log(999)
    if (f.customCheck1.checked == true) {
        f.perminputAddress.value = f.currentinputAddress.value;
        f.perminputAddress2.value = f.currentinputAddress2.value;
        f.perminputCity.value = f.inputCity.value
        f.perminputState.value = f.inputState.value
        f.perminputZip.value = f.inputZip.value
    }
}

function ValidateSize(file) {
    var FileSize = file.files[0].size / 1024 / 1024; // in MB
    if (FileSize > 2) {
        alert('File size exceeds 2 MB !');
    } else {

    }
}
</script>
</script>
{% endblock %}